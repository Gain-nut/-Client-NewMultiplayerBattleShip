{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\battleship-client\\\\src\\\\components\\\\Game.js\";\n// src/components/Game.js\nimport React from 'react';\nimport { socket } from '../socket';\nimport GameBoard from './GameBoard';\nimport './Game.css'; // <-- à¹€à¸žà¸´à¹ˆà¸¡à¹„à¸Ÿà¸¥à¹Œ CSS à¹ƒà¸«à¸¡à¹ˆ\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Game({\n  gameState,\n  nickname\n}) {\n  if (!gameState || !gameState.players) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading game...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  }\n  const playerIds = Object.keys(gameState.players);\n  const myPlayerId = playerIds.find(id => gameState.players[id].nickname === nickname);\n  const opponentId = playerIds.find(id => id !== myPlayerId);\n  const me = gameState.players[myPlayerId];\n  const opponent = opponentId ? gameState.players[opponentId] : null;\n\n  // à¸–à¹‰à¸²à¸¢à¸±à¸‡à¸«à¸²à¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸¡à¹ˆà¹€à¸ˆà¸­ (state à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸²)\n  if (!me) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Initializing...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 19\n  }, this);\n  const isMyTurn = gameState.currentPlayerTurn === myPlayerId;\n  const handleFire = (row, col) => {\n    // à¹€à¸Šà¹‡à¸„à¸§à¹ˆà¸²à¹€à¸›à¹‡à¸™à¸•à¸²à¸‚à¸­à¸‡à¹€à¸£à¸² à¹à¸¥à¸°à¹€à¸à¸¡à¸à¸³à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¸­à¸¢à¸¹à¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ\n    if (isMyTurn && gameState.gameStatus === 'playing') {\n      console.log(`Firing at ${row}, ${col}`);\n      socket.emit('fire-shot', {\n        row,\n        col\n      });\n    }\n  };\n\n  // à¸ªà¸£à¹‰à¸²à¸‡ Board à¸‚à¸­à¸‡à¹€à¸£à¸²à¸ˆà¸²à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸·à¸­ + à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸¨à¸±à¸•à¸£à¸¹à¸¢à¸´à¸‡à¸¡à¸²\n  const myDisplayBoard = Array(8).fill(null).map(() => Array(8).fill(null));\n  me.ships.forEach(ship => {\n    myDisplayBoard[ship.row][ship.col] = 'ship';\n  });\n  me.gameBoard.forEach((row, r_idx) => {\n    row.forEach((cell, c_idx) => {\n      if (cell === 'hit' || cell === 'miss') {\n        myDisplayBoard[r_idx][c_idx] = cell;\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [gameState.gameStatus === 'placing' && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"...Placing ships...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 46\n    }, this), gameState.gameStatus === 'playing' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"turn-indicator\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: isMyTurn ? 'my-turn' : '',\n          children: isMyTurn ? \"ðŸ”¥ Your Turn!\" : `Waiting for ${opponent === null || opponent === void 0 ? void 0 : opponent.nickname}'s turn...`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boards-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"board-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Your Board (Score: \", me.score, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(GameBoard, {\n            board: myDisplayBoard,\n            onCellClick: () => {}\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"board-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Opponent's Board (Score: \", (opponent === null || opponent === void 0 ? void 0 : opponent.score) || 0, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), opponent ? /*#__PURE__*/_jsxDEV(GameBoard, {\n            board: opponent.gameBoard,\n            onCellClick: handleFire\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 18\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Waiting for opponent...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), gameState.gameStatus === 'gameover' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-over\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Game Over!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Winner is: \", gameState.players[gameState.winner].nickname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","socket","GameBoard","jsxDEV","_jsxDEV","Fragment","_Fragment","Game","gameState","nickname","players","children","fileName","_jsxFileName","lineNumber","columnNumber","playerIds","Object","keys","myPlayerId","find","id","opponentId","me","opponent","isMyTurn","currentPlayerTurn","handleFire","row","col","gameStatus","console","log","emit","myDisplayBoard","Array","fill","map","ships","forEach","ship","gameBoard","r_idx","cell","c_idx","className","score","board","onCellClick","winner","_c","$RefreshReg$"],"sources":["C:/Users/asus/battleship-client/src/components/Game.js"],"sourcesContent":["// src/components/Game.js\r\nimport React from 'react';\r\nimport { socket } from '../socket';\r\nimport GameBoard from './GameBoard';\r\nimport './Game.css'; // <-- à¹€à¸žà¸´à¹ˆà¸¡à¹„à¸Ÿà¸¥à¹Œ CSS à¹ƒà¸«à¸¡à¹ˆ\r\n\r\nfunction Game({ gameState, nickname }) {\r\n  if (!gameState || !gameState.players) {\r\n    return <div>Loading game...</div>;\r\n  }\r\n  \r\n  const playerIds = Object.keys(gameState.players);\r\n  const myPlayerId = playerIds.find(id => gameState.players[id].nickname === nickname);\r\n  const opponentId = playerIds.find(id => id !== myPlayerId);\r\n  \r\n  const me = gameState.players[myPlayerId];\r\n  const opponent = opponentId ? gameState.players[opponentId] : null;\r\n\r\n  // à¸–à¹‰à¸²à¸¢à¸±à¸‡à¸«à¸²à¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸¡à¹ˆà¹€à¸ˆà¸­ (state à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸²)\r\n  if (!me) return <div>Initializing...</div>;\r\n\r\n  const isMyTurn = gameState.currentPlayerTurn === myPlayerId;\r\n\r\n  const handleFire = (row, col) => {\r\n    // à¹€à¸Šà¹‡à¸„à¸§à¹ˆà¸²à¹€à¸›à¹‡à¸™à¸•à¸²à¸‚à¸­à¸‡à¹€à¸£à¸² à¹à¸¥à¸°à¹€à¸à¸¡à¸à¸³à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¸­à¸¢à¸¹à¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ\r\n    if (isMyTurn && gameState.gameStatus === 'playing') {\r\n      console.log(`Firing at ${row}, ${col}`);\r\n      socket.emit('fire-shot', { row, col });\r\n    }\r\n  };\r\n\r\n  // à¸ªà¸£à¹‰à¸²à¸‡ Board à¸‚à¸­à¸‡à¹€à¸£à¸²à¸ˆà¸²à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸·à¸­ + à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸¨à¸±à¸•à¸£à¸¹à¸¢à¸´à¸‡à¸¡à¸²\r\n  const myDisplayBoard = Array(8).fill(null).map(() => Array(8).fill(null));\r\n  me.ships.forEach(ship => { myDisplayBoard[ship.row][ship.col] = 'ship'; });\r\n  me.gameBoard.forEach((row, r_idx) => {\r\n    row.forEach((cell, c_idx) => {\r\n      if (cell === 'hit' || cell === 'miss') {\r\n        myDisplayBoard[r_idx][c_idx] = cell;\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div className=\"game-container\">\r\n      {gameState.gameStatus === 'placing' && <div>...Placing ships...</div>}\r\n      \r\n      {gameState.gameStatus === 'playing' && (\r\n        <>\r\n          <div className=\"turn-indicator\">\r\n            <h2 className={isMyTurn ? 'my-turn' : ''}>\r\n              {isMyTurn ? \"ðŸ”¥ Your Turn!\" : `Waiting for ${opponent?.nickname}'s turn...`}\r\n            </h2>\r\n          </div>\r\n          <div className=\"boards-container\">\r\n            <div className=\"board-area\">\r\n              <h3>Your Board (Score: {me.score})</h3>\r\n              <GameBoard board={myDisplayBoard} onCellClick={() => {}} />\r\n            </div>\r\n            <div className=\"board-area\">\r\n              <h3>Opponent's Board (Score: {opponent?.score || 0})</h3>\r\n              {opponent ? (\r\n                 <GameBoard board={opponent.gameBoard} onCellClick={handleFire} />\r\n              ) : (\r\n                <p>Waiting for opponent...</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {gameState.gameStatus === 'gameover' && (\r\n         <div className=\"game-over\">\r\n            <h1>Game Over!</h1>\r\n            <h2>Winner is: {gameState.players[gameState.winner].nickname}</h2>\r\n         </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Game;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}